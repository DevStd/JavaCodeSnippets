# File Manager
파일 버전관리 프로그램 작성



## I. 개요
여러 버전의 파일 취합 및 버전관리를 위한 도구를 만들고자 한다.

입력 파일은 INPUT1 및 INPUT2폴더에 저장되어 있으며, <br/>
입력 파일의 버전 및 변경사항은 각 폴더 안의 version.txt에 기록되어 있다.



## II. 프로그램 동작
해당 프로그램의 동작은 다음과 같은 상황을 가정한다.
* 입력폴더는 INPUT1과 INPUT2 폴더만을 대상으로 한다.
* 입력 및 출력파일의 경로는 상대경로를 사용한다.
* 입력폴더 안에는 하위폴더가 존재하지 않는다.
* 버전관리는 version.txt 파일을 제외한 입력폴더에 포함된 모든 파일을 대상으로 한다.
* 파일 취합시 충돌상황은 존재하지 않는다. 
* 파일 병합결과로 항상 최신 파일만 유지하며, 이전버전파일의 백업은 고려하지 않는다.
* 사용가능한 디스크는 입력폴더에 포함된 모든 파일크기의 합 보다 크며,
  사용가능한 메모리는 입력폴더의 파일중 가장 큰 파일의 크기보다 크다.
* 그 외 언급하지 않은 사항은 고려하지 않는다.



#### 버전관리를 위한 version.txt파일의 구성은 다음과 같다.

    파일이름:버전:상태:파일의MD5해시

**version.txt파일 예시**
```
sample1.txt:2:M:9ECB238F528DA6DDD958970F2BFA5D7D
sample1.java:3:D:44B1EA0545EED69DED910DCDFCD1440E
sample1.xml:0:A:693575CE03BDDFA9AD77961BA5232DA7
sample1.bak:2:-:7ECFDD20790EF7D77D2B536C9D316165
```

#### 파일의 상태는 다음과 같이 정의한다. 

* M : 수정됨
* D : 삭제됨
* A : 추가됨
* \- : 변경내역 없음





## III. 구현요구사항 (소문항)

### 1. 파일목록 출력
* INPUT1 폴더 안에 포함된 파일 목록을 출력한다.
* 파일이름의 오름차순대로 정렬하여 한줄에 파일하나씩 파일이름을 출력한다
* version.txt 파일은 출력하지 않는다.

**출력예시**
```
data.bin
hello.c
sample.txt
```

### 2. 파일의 MD5해시 출력
* INPUT1 폴더 안에 포함된 파일 목록을 출력한다.
* 파일이름의 오름차순대로 정렬하여 한줄에 파일하나씩 파일이름과 해당 파일의 MD5해시를 출력한다
* 파일이름과 MD5해시는 ## 으로 구분해서 출력하며, MD5해시의 값은 숫자와 알파벳대문자로 표시한다.
* version.txt 파일은 출력하지 않는다.

**출력예시**
```
data.bin##62827FC153177B216F56CFF6D2153A4F
hello.c##D8326B2651F33E26E5F7E8C990D663D2
sample.txt##4B4EC2D02A9D489B8C1D38FCDBFC3753
```

### 3. version.txt  파일 갱신
* INPUT1 폴더의 파일목록을 읽어 해당 폴더안에 포함된 버전관리 파일인 version.txt파일의 내용과 비교한다.
* 버전관리 파일에 등록되지 않은 파일은 해당파일의 상태틑 '추가'로 설정하여 버전관리파일에 추가한다.
* 버전관리 파일에 등록되어있으나, 실제 INPUT1폴더안에 존재하지 않는 파일의 경우 파일의 상태를 '삭제' 로 변경한다.
* 버전관리 파일의 MD5해시와 실제 파일의 MD5해시가 다른 경우 파일의 상태를 '수정'으로 변경한다.
* 최초 추가한 파일의 버전은 0으로, 수정/삭제가 일어난 파일의 버전은 해당 파일의 원래버전+1 값으로 지정한다.
* 변경된 내용을 반영하여 INPUT1폴더의 version.txt 파일을 업데이트 한다.

### 4. 폴더 병합
* 프로젝트의 하위에 MERGED 폴더를 생성한다.
* INPUT1폴더와 INPUT2폴더의 version.txt파일을 읽어서 최신의 버전정보를 MERGED폴더안에 version.txt로 저장한다.
* INPUT1폴더와 INPUT2폴더를 병합하여 최신버전정보에 해당하는 파일을 MERGED폴더에 복사한다.

### 5. 파일 전송
* TCP소켓통신을 이용해 파일을 전송하는 서버/클라이언트를 작성한다.
* 클라이언트는 MERGED폴더안의 모든 파일을 읽어 파일이름과 파일 데이터를 서버로 전송한다.
* 서버는 전송받은 파일을 SERVER폴더를 생성하고, SERVER폴더안에 전송받은 파일명대로 파일데이터를 저장한다.
* 서버의 접속주소는 IP 127.0.0.1, 포트 9090 으로 설정 한다.




## IV. 구현시 제약사항
* 프로그램은 첨부한 Sample폴더의 프로젝트를 활용하여 개발한다.
* 각 소문항은 샘플 프로젝트의 패키지별 *Runner클래스를 실행 시 수행될 수 있어야 한다.
* 클래스및 함수의 추가는 제한 없이 가능하나, 최초 제공된 샘플의 클래스및 함수의 시그니쳐는 변경 할 수 없다.

